include "../core_timed_defs.csp"

channel powerHandheld
channel recordVideo



Timed(OneStep) { 
	Basic3 = timed_priority((Pilot [ A_Pilot || A_Handheld ] Handheld) [union(A_Pilot, A_Handheld)|| A_Observer] Observer)
	
	Observer = recordVideo -> SKIP 

	Handheld = powerHandheld -> SKIP; recordVideo -> SKIP

	Pilot = powerHandheld -> SKIP 
}

A_Handheld = {recordVideo, powerHandheld, tock} 

A_Pilot = {powerHandheld, tock}

A_Observer = {recordVideo, tock}

assert not Basic3 :[deadlock free]
assert Basic3 :[divergence free]
assert Basic3 :[deterministic]
assert Basic3 :[has trace [T]]: <powerHandheld,tock,recordVideo>
assert not Basic3 :[has trace [T]]: <recordVideo,powerHandheld>
